<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>实现Windows环境下Thunderbird邮件客户端自启动</title>
      <link href="/2024/03/05/%E5%AE%9E%E7%8E%B0Windows%E7%8E%AF%E5%A2%83%E4%B8%8BThunderbird%E9%82%AE%E4%BB%B6%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%87%AA%E5%90%AF%E5%8A%A8/"/>
      <url>/2024/03/05/%E5%AE%9E%E7%8E%B0Windows%E7%8E%AF%E5%A2%83%E4%B8%8BThunderbird%E9%82%AE%E4%BB%B6%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%87%AA%E5%90%AF%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<p>Thunderbird是一款优秀的开源邮件客户端，但在Windows环境下没有自启动选项，且关闭主界面后客户端也会关闭，这种设计不利于在后台接收新邮件提醒。因此，考虑通过其他途径实现Thunderbird的自启动。</p><h2 id="实现">实现</h2><p>在<code>C:\Users\[用户名]\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup</code>路径下创建一个Thunderbird主程序快捷方式，即可实现Thunderbird开机自启。</p><blockquote><p>推而广之，可用此方式实现其他（任何）程序的开机自启。</p></blockquote><h2 id="One-more-thing">One more thing</h2><p>更进一步，可在Thunderbird客户端安装以下插件：</p><ul><li>Minimize at startup：启动时最小化托盘。配合上述自启动设置，可实现开机自启且最小化。</li><li>Minimize on Close：点击关闭按钮后最小化到托盘，而不是关闭程序。可避免误关，更重要的是可以拯救强迫症患者。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Thunderbird </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AOP-面向切面编程</title>
      <link href="/2024/03/05/AOP-%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B/"/>
      <url>/2024/03/05/AOP-%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1>1. 基础</h1><h2 id="1-1-概述">1.1 概述</h2><p>**AOP：**Aspect Oriented Programming （面向切面编程），即面向特定方法编程。</p><p><strong>场景：</strong></p><ul><li>统计业务方法的执行耗时</li><li>记录操作日志</li><li>权限管理</li><li>事务管理</li><li>……</li></ul><p>**AOP的作用：**在程序运行期间在不修改源代码的基础上对已有方法进行增强（无侵入性: 解耦）</p><p><strong>AOP的优势：</strong></p><ul><li>代码无侵入</li><li>减少重复代码</li><li>提高开发效率</li><li>维护方便</li></ul><h2 id="1-2-SpringAOP开发步骤">1.2 SpringAOP开发步骤</h2><p>**需求：**统计各个业务层方法执行耗时</p><p><strong>实现步骤：</strong></p><ul><li><p>导入依赖：在pom.xml中导入AOP的依赖</p><div class="highlight-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><p>编写AOP程序：针对于特定方法根据业务需要进行编程</p><div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span><span class="comment">// AOP类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeAspect</span> &#123;</span><br><span class="line">    <span class="meta">@Around(&quot;execution(* com.parker.service.*.*(..))&quot;)</span>  <span class="comment">// 切入点表达式：作用于com.parker.service包下所有接口/类的所有方法，形参和返回值均为任意值</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">recordTime</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        <span class="comment">// 记录开始时间</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">begin</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">// 调用原始方法运行</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> proceedingJoinPoint.proceed();</span><br><span class="line">        <span class="comment">// 记录结束时间</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">// 写入日志</span></span><br><span class="line">        log.info(proceedingJoinPoint.getSignature() + <span class="string">&quot;执行耗时：&#123;&#125;ms&quot;</span>, end - begin);</span><br><span class="line">        <span class="comment">// 返回结果</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="1-3-核心概念">1.3 核心概念</h2><ul><li><strong>连接点：JoinPoint</strong>，可以被AOP控制的方法（暗含方法执行时的相关信息）</li><li><strong>通知：Advice</strong>，指哪些重复的逻辑，也就是共性功能（最终体现为一个方法）</li><li><strong>切入点：PointCut</strong>，匹配连接点的条件，通知仅会在切入点方法执行时被应用</li><li><strong>切面：Aspect</strong>，描述通知与切入点的对应关系（通知+切入点）</li><li><strong>目标对象：Target</strong>，通知所应用的对象</li></ul><h2 id="1-4-执行流程">1.4 执行流程</h2><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/03/05/KuSYiaOBDHxesMt.png"                      alt=""                >Spring的AOP底层是基于动态代理技术来实现的。也就是说在程序运行的时候，会自动的基于动态代理技术为目标对象生成一个对应的代理对象。在代理对象当中就会对目标对象当中的原始方法进行功能的增强。</p><h1>2. 进阶</h1><h2 id="2-1-通知类型">2.1 通知类型</h2><p>Spring中AOP的通知类型：</p><ul><li>@<strong>Around</strong>：环绕通知，此注解标注的通知方法在目标方法前、后都被执行</li><li>@Before：前置通知，此注解标注的通知方法在目标方法前被执行</li><li>@After ：后置通知，此注解标注的通知方法在目标方法后被执行，无论是否有异常都会执行</li><li>@AfterReturning ： 返回后通知，此注解标注的通知方法在目标方法后被执行，有异常不会执行</li><li>@AfterThrowing ： 异常后通知，此注解标注的通知方法发生异常后执行</li></ul><p>在使用通知时的注意事项：</p><ul><li>@Around 环绕通知需要自己调用 ProceedingJoinPoint.proceed() 来让原始方法执行，其他通知不需要考虑目标方法执行</li><li>@Around 环绕通知方法的返回值，必须指定为Object，来接收原始方法的返回值，否则原始方法执行完毕，是获取不到返回值的</li></ul><p>当代码中存在大量重复的切入点表达式时，Spring提供了<code>@PointCut</code>注解，该注解的作用是将公共的切入点表达式抽取出来，需要用到时引用该切入点表达式即可，具体形式如下：</p><div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAspect1</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//切入点方法（公共的切入点表达式）</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.parker.service.*.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">pt</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//前置通知（引用切入点）</span></span><br><span class="line">    <span class="meta">@Before(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">(JoinPoint joinPoint)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;before ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//环绕通知（引用切入点）</span></span><br><span class="line">    <span class="meta">@Around(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">around</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        log.info(<span class="string">&quot;around before ...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//调用目标对象的原始方法执行</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> proceedingJoinPoint.proceed();</span><br><span class="line">        <span class="comment">//原始方法在执行时：发生异常</span></span><br><span class="line">        <span class="comment">//后续代码不在执行</span></span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">&quot;around after ...&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//后置通知（引用切入点）</span></span><br><span class="line">    <span class="meta">@After(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">(JoinPoint joinPoint)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;after ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>需要注意的是：当切入点方法使用<code>private</code>修饰时，仅能在当前切面类中引用该表达式， 当外部其他切面类中也要引用当前类中的切入点表达式，就需要把<code>private</code>改为<code>public</code>，而在引用的时候，具体的语法为：<code>全类名.方法名()</code>，具体形式如下：</p><div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAspect2</span> &#123;</span><br><span class="line">    <span class="comment">//引用MyAspect1切面类中的切入点表达式</span></span><br><span class="line">    <span class="meta">@Before(&quot;com.parker.aspect.MyAspect1.pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;MyAspect2 -&gt; before ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="2-2-通知顺序">2.2 通知顺序</h2>]]></content>
      
      
      <categories>
          
          <category> Java学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows cmd 执行 Java 命令无返回信息</title>
      <link href="/2024/02/18/Windows-cmd%E6%89%A7%E8%A1%8Cjava%E5%91%BD%E4%BB%A4%E6%97%A0%E8%BF%94%E5%9B%9E%E4%BF%A1%E6%81%AF/"/>
      <url>/2024/02/18/Windows-cmd%E6%89%A7%E8%A1%8Cjava%E5%91%BD%E4%BB%A4%E6%97%A0%E8%BF%94%E5%9B%9E%E4%BF%A1%E6%81%AF/</url>
      
        <content type="html"><![CDATA[<h2 id="问题">问题</h2><p>在 Windows 命令行中无法执行 Java 命令且没有任何返回信息：</p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/02/18/rmNVClcep816dXR.png"                      style="zoom:50%;"                 ><h2 id="原因">原因</h2><p>装了多个 jdk 的话，系统环境变量的第一行可能会出现 <code>C:\ProgramData\Oracle\Java\javapath</code> 路径，系统按该路径查找 jdk 。然而该路径可能并不真实存在，因此命令行中的 Java 命令会因找不到 jdk 而并未运行。</p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/02/18/3XM9B4wfPOlsyUi.png"                      style="zoom:50%;"                 ><h2 id="解决">解决</h2><p>将自定义的 <code>%JAVA_HOME%\bin\</code> 路径移至第一行，让系统按该路径查找 jdk 。</p><h2 id="参考">参考</h2><ul><li><a class="link"   href="https://blog.csdn.net/qq_41999034/article/details/111604649" >https://blog.csdn.net/qq_41999034/article/details/111604649 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows环境变量 </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tomcat 双击 startup.bat 闪退</title>
      <link href="/2024/01/31/Tomcat%E5%8F%8C%E5%87%BBstartup-bat%E9%97%AA%E9%80%80/"/>
      <url>/2024/01/31/Tomcat%E5%8F%8C%E5%87%BBstartup-bat%E9%97%AA%E9%80%80/</url>
      
        <content type="html"><![CDATA[<h2 id="问题">问题</h2><p>在没有其他进程占用 8080 端口的情况下，双击 Tomcat 的 <code>startup.bat</code> 脚本发生闪退，无法启动。</p><h2 id="原因">原因</h2><p>未配置 <code>JAVA_HOME</code> 环境变量。</p><blockquote><p>问题排查过程：</p><ul><li>在 <code>startup.bat</code> 文件末尾添加一行 <code>pause</code> ，避免 Tomcat 立即退出；</li><li>双击 <code>startup.bat</code> ，尝试启动；</li><li>未成功启动，终端中提示 <code>JAVA_HOME</code> 与 <code>jre</code> 均未配置，需至少配置二者其一。</li></ul></blockquote><h2 id="解决">解决</h2><ul><li>方法一：配置 Windows 系统 <code>JAVA_HOME</code> 环境变量（推荐）</li><li>方法二：在 <code>startup.bat</code> 文件开头添加 <code>SET JAVA_HOME=Java安装目录</code></li></ul><h2 id="参考">参考</h2><ul><li><a class="link"   href="https://blog.51cto.com/u_14783151/2899251" >https://blog.51cto.com/u_14783151/2899251 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li><li><a class="link"   href="https://blog.csdn.net/qq496013218/article/details/74517593" >https://blog.csdn.net/qq496013218/article/details/74517593 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tomcat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 隐藏特定文章</title>
      <link href="/2024/01/25/Hexo-%E9%9A%90%E8%97%8F%E7%89%B9%E5%AE%9A%E6%96%87%E7%AB%A0/"/>
      <url>/2024/01/25/Hexo-%E9%9A%90%E8%97%8F%E7%89%B9%E5%AE%9A%E6%96%87%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<h2 id="问题">问题</h2><p>写博客时有隐藏特定文章的需求</p><h2 id="解决">解决</h2><p>安装并配置 <code>hexo-hide-posts</code> 插件：</p><ul><li><p>在站点根目录下执行 <code>npm install hexo-hide-posts --save</code> 命令</p></li><li><p>在站点根目录下的 <code>_config.yml</code> 文件中添加如下配置：</p><div class="highlight-container" data-rel="Yaml"><figure class="iseeu highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-hide-posts</span></span><br><span class="line"><span class="attr">hide_posts:</span></span><br><span class="line">  <span class="attr">filter:</span> <span class="string">hidden</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment"># 指定你想要传递隐藏文章的位置，比如让所有隐藏文章在存档页面可见</span></span><br><span class="line">  <span class="comment"># 常见的位置有：index, tag, category, archive, sitemap, feed, etc.</span></span><br><span class="line">  <span class="comment"># 留空则默认全部隐藏</span></span><br><span class="line">  <span class="attr">public_generators:</span> []</span><br><span class="line">  </span><br><span class="line">  <span class="comment"># 为隐藏的文章添加 noindex meta 标签，阻止搜索引擎收录</span></span><br><span class="line">  <span class="attr">noindex:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></div></li></ul><p>之后写作文章时，在文章属性中添加 <code>hidden: true</code> 即可隐藏文章，形如：</p><div class="highlight-container" data-rel="Markdown"><figure class="iseeu highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#x27;Hidden Post&#x27;</span><br><span class="line">date: &#x27;2024/01/25 16:21:16&#x27;</span><br><span class="line"><span class="section">hidden: true</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure></div><p>若要查看隐藏文章，可以运行 <code>hexo hidden:list</code> 命令来获取当前所有的已隐藏文章列表及其信息，并通过文章链接访问。</p><h2 id="引用">引用</h2><ul><li><a class="link"   href="https://blog.garryde.com/archives/37712.html" >https://blog.garryde.com/archives/37712.html <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git 报错：无法创建 index.lock 文件，因其已存在。</title>
      <link href="/2024/01/25/Git-%E6%8A%A5%E9%94%99%EF%BC%9A%E6%97%A0%E6%B3%95%E5%88%9B%E5%BB%BA-index-lock-%E6%96%87%E4%BB%B6%EF%BC%8C%E5%9B%A0%E5%85%B6%E5%B7%B2%E5%AD%98%E5%9C%A8/"/>
      <url>/2024/01/25/Git-%E6%8A%A5%E9%94%99%EF%BC%9A%E6%97%A0%E6%B3%95%E5%88%9B%E5%BB%BA-index-lock-%E6%96%87%E4%BB%B6%EF%BC%8C%E5%9B%A0%E5%85%B6%E5%B7%B2%E5%AD%98%E5%9C%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="问题">问题</h2><p>使用 Git 向 Github 部署代码时，出现如下报错：</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/25/VTOAzyM2Jm9pEWH.png"                      alt=""                ></p><h2 id="原因">原因</h2><p>有两个 Git 命令同时运行，可能一种来自命令提示符，另一种来自 IDE 。</p><h2 id="解决">解决</h2><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/25/V2x6Msj5KSDqFp3.png"                      alt=""                ><br>删除报错信息对应路径下已存在的 <code>index.lock</code> 文件即可。</p><h2 id="引用">引用</h2><ul><li><a class="link"   href="https://stackoverflow.com/questions/38004148/another-git-process-seems-to-be-running-in-this-repository" >https://stackoverflow.com/questions/38004148/another-git-process-seems-to-be-running-in-this-repository <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 博客中的 Markdown 脚注渲染问题</title>
      <link href="/2024/01/25/Markdown-%E8%84%9A%E6%B3%A8%E6%B8%B2%E6%9F%93%E9%97%AE%E9%A2%98/"/>
      <url>/2024/01/25/Markdown-%E8%84%9A%E6%B3%A8%E6%B8%B2%E6%9F%93%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="问题">问题</h2><p>Hexo 博客无法正常渲染 Markdown 脚注，如下图所示：</p><p><figure class="image-caption"><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/25/boT1YRUWje6kIHD.png"                      alt="Typora 渲染效果"                ><figcaption>Typora 渲染效果</figcaption></figure></p><p><figure class="image-caption"><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/25/EbtSNxAl4hr681y.png"                      alt="Hexo 网页渲染效果"                ><figcaption>Hexo 网页渲染效果</figcaption></figure></p><h2 id="原因">原因</h2><p>Hexo 默认 Markdown 渲染插件为 <code>hexo-renderer-marked</code> ，而 <code>marked.js</code> 不支持脚注。</p><h2 id="解决">解决</h2><p>改用支持脚注的 Markdown 渲染插件，如 <code>hexo-renderer-markdown-it</code> 。</p><ol><li><p>在 Hexo 根目录打开 Git Bash ，依次执行以下命令：</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save <span class="comment"># 卸载 marked 插件</span></span><br><span class="line">npm i hexo-renderer-markdown-it --save <span class="comment"># 安装 markdown-it 插件</span></span><br></pre></td></tr></table></figure></div></li><li><p>在 Hexo 根目录打开 <code>_config.yml</code> 文件，添加如下配置信息：</p><div class="highlight-container" data-rel="Yaml"><figure class="iseeu highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">    <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-footnote</span></span><br></pre></td></tr></table></figure></div></li><li><p>重新生成静态文件，刷新配置信息使其生效。</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl &amp;&amp; hexo g</span><br></pre></td></tr></table></figure></div></li></ol><h2 id="效果">效果</h2><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/25/5YH4T6U9VxgkBcq.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/25/Gv3SotxEdrMzXpi.png"                      style="zoom:50%;"                 ><p>点击脚注可正常跳转。</p><h2 id="引用">引用</h2><ul><li><a class="link"   href="https://github.com/ppoffice/hexo-theme-icarus/issues/572" >https://github.com/ppoffice/hexo-theme-icarus/issues/572 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li><li><a class="link"   href="https://seayj.cn/articles/33818/" >https://seayj.cn/articles/33818/ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PowerShell 报错：在此系统上禁止运行脚本</title>
      <link href="/2024/01/22/PowerShell-vue%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD%E6%96%87%E4%BB%B6-%E5%9B%A0%E4%B8%BA%E5%9C%A8%E6%AD%A4%E7%B3%BB%E7%BB%9F%E4%B8%8A%E7%A6%81%E6%AD%A2%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC/"/>
      <url>/2024/01/22/PowerShell-vue%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD%E6%96%87%E4%BB%B6-%E5%9B%A0%E4%B8%BA%E5%9C%A8%E6%AD%A4%E7%B3%BB%E7%BB%9F%E4%B8%8A%E7%A6%81%E6%AD%A2%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h2 id="问题">问题</h2><p>在 Windows PowerShell （管理员模式下）执行 <code>vue --version</code> 命令时报错如下：</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/22/IBWcwtCLqjm2ya3.png"                      alt=""                ></p><h2 id="原因">原因</h2><p>首次在计算机上启动 Windows PowerShell 时，现用执行策略很可能是 Restricted（默认设置）。Restricted 策略不允许任何脚本运行，以防止执行不信任的脚本。</p><h2 id="解决">解决</h2><p>在 Windows PowerShell 执行以下命令：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set-executionpolicy remotesigned</span><br></pre></td></tr></table></figure></div><h2 id="效果">效果</h2><p>再次执行 <code>vue --version</code> 命令，可正常查看 Vue 版本：</p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/22/2UpOySQuL3ev5to.png"                      style="zoom: 50%;"                ><h2 id="引用">引用</h2><ul><li><a class="link"   href="https://cloud.tencent.com/developer/article/1612513" >https://cloud.tencent.com/developer/article/1612513 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PowerShell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git 报错：SSH连接超时</title>
      <link href="/2024/01/19/Git%E6%8A%A5%E9%94%99-SSH%E8%BF%9E%E6%8E%A5%E8%B6%85%E6%97%B6/"/>
      <url>/2024/01/19/Git%E6%8A%A5%E9%94%99-SSH%E8%BF%9E%E6%8E%A5%E8%B6%85%E6%97%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="问题">问题</h2><p>使用 Git 向 GitHub 部署代码时，报错如下（此前正常）：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh: connect to host github.com port 22: Connection timed out</span><br><span class="line">fatal: Could not read from remote repository.</span><br><span class="line">Please make sure you have the correct access rights and the repository exists.</span><br></pre></td></tr></table></figure></div><h2 id="原因">原因</h2><p>SSH 端口被占用，重新指定一个端口即可。</p><p>注：<em>Windows 系统查看端口占用情况的命令为：<code>netstat -ano | findStr 端口号</code></em></p><h2 id="解决">解决</h2><ul><li><p>打开 <code>C:\用户\主机名\.ssh</code> 文件夹</p></li><li><p>新建 <code>config</code> 文件（不带后缀）</p></li><li><p>输入以下内容后保存：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">User GitHub注册邮箱</span><br><span class="line">Hostname ssh.github.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/id_rsa</span><br><span class="line">Port 443</span><br></pre></td></tr></table></figure></div></li><li><p>在 Git Bash 执行：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure></div><p>出现询问是否连接的提示，输入 <code>yes</code> 回车：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br><span class="line">The authenticity of host &#x27;[ssh.github.com]:443 ([20.205.243.160]:443)&#x27; can&#x27;t be established.</span><br><span class="line">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span><br><span class="line">Warning: Permanently added &#x27;[ssh.github.com]:443&#x27; (ED25519) to the list of known hosts.</span><br><span class="line">Hi x-Parker! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure></div><p>成功重新建立 SSH 连接。</p></li></ul><h2 id="另解">另解</h2><p>抛弃 SSH 连接方式，使用 HTTPS 连接 Github。</p><h2 id="参考">参考</h2><ul><li><a class="link"   href="https://blog.csdn.net/yunxiaobaobei/article/details/123474599" >https://blog.csdn.net/yunxiaobaobei/article/details/123474599 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li><li><a class="link"   href="https://blog.csdn.net/weixin_41287260/article/details/124368189" >https://blog.csdn.net/weixin_41287260/article/details/124368189 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> SSH </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Once Upon a Time in America</title>
      <link href="/2024/01/19/Once-Upon-a-Time-in-America/"/>
      <url>/2024/01/19/Once-Upon-a-Time-in-America/</url>
      
        <content type="html"><![CDATA[<img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/19/y9MTUVfmBbJcC5s.jpg"                      style="zoom: 200%;"                 >]]></content>
      
      
      <categories>
          
          <category> 生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 电影 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>高级数据库技术 - 复习</title>
      <link href="/2024/01/13/%E9%AB%98%E7%BA%A7%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF-%E5%A4%8D%E4%B9%A0/"/>
      <url>/2024/01/13/%E9%AB%98%E7%BA%A7%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF-%E5%A4%8D%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>文中PPT截图引用自：中国科学技术大学 金培权老师</p></blockquote><h2 id="第1章-数据库系统概述">第1章 数据库系统概述</h2><p>1、DBMS系统结构组成</p><p>2、数据库、DBMS、数据库系统</p><h2 id="第2章-关系数据库技术回顾"><strong>第2章</strong> 关系数据库技术回顾</h2><p>1、数据模型和关系数据模型</p><p>2、SQL</p><p>3、三级模式结构与数据独立性</p><h2 id="第3章-数据库设计">第3章 数据库设计</h2><p>1、函数依赖的概念</p><h3 id="2、最小函数依赖集">2、最小函数依赖集</h3><ul><li><p>概念</p><ul><li>给定一个函数依赖集S，若能找到一个远小于S的等价函数依赖集T，则DBMS只要实现T就可实现S中的所有函数依赖</li></ul></li><li><p>计算</p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/12/guaG4vcoVEZ93zW.png"                      style="zoom: 48%;"                 ></li></ul><h3 id="3、码的形式化定义">3、码的形式化定义</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/12/iFlOsbpfnRj9Wu1.png"                      style="zoom: 52.5%;"                 ><h3 id="4、1NF、2NF、3NF、BCNF">4、1NF、2NF、3NF、BCNF</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/12/C9gFc6RbdsK7Grj.png"                      style="zoom:50.8%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/12/X6iHbLD79UI34J8.png"                      style="zoom:51.6%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/12/sz5AnZ3jVyCgWio.png"                      style="zoom:51.5%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/12/6G2fnXJO8zgMQtm.png"                      style="zoom:50.8%;"                 ><h3 id="5、无损并且保持函数依赖分解到3NF的算法">5、无损并且保持函数依赖分解到3NF的算法</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/KeAMoWNk9RCcqPZ.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/lHpma8vq6D5X4Tz.png"                      style="zoom:63.7%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/gy1EPABntiaLMF5.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/Nx1idoeMZhVzsJ7.png"                      style="zoom:50.5%;"                 ><p>6、无损分解到BCNF的算法</p><p>7、数据库设计过程以及各个过程的主要工作</p><p>8、ER设计的基本方法</p><p>9、逻辑设计的主要工作</p><p>10、ER模型到关系模型的转换方法</p><h2 id="第4章-数据存储">第4章 数据存储</h2><h3 id="1、磁盘块存取时间">1、磁盘块存取时间</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/UVQIsu2Kh1TSaCW.png"                      style="zoom:52.5%;"                 ><p>2、存储器结构</p><p>3、不同类型存储介质之间的差异</p><h2 id="第5章-数据表示">第5章 数据表示</h2><p>1、数据项的表示</p><p>2、记录的表示</p><h3 id="3、记录在磁盘块中的组织">3、记录在磁盘块中的组织</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/GgXKW5TmRq6y8L7.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/uRr3JNcLEhIiZzp.png"                      style="zoom:51.5%;"                 ><h4 id="其他问题">其他问题</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/4xYgs2J38XHyFGD.png"                      style="zoom: 45%;"                 ><h5 id="1、记录在块内的分隔">1、记录在块内的分隔</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/6lEzecpShMLQC5F.png"                      style="zoom:50%;"                 ><h5 id="2、跨块VS-不跨块">2、跨块VS.不跨块</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/yWpSt6vBz8l7EXV.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/rOU4asCZyRNwPtA.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/YmDdrxPOVEsoH16.png"                      style="zoom:50%;"                 ><h5 id="3、不同类型的记录聚簇">3、不同类型的记录聚簇</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/vqrjVo5b73EO1yt.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/UnD26c1AMyQVfst.png"                      style="zoom:50%;"                 ><h5 id="4、在块中按序存储记录">4、在块中按序存储记录</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/NKBZuD1EtesknM6.png"                      style="zoom:50%;"                 ><h5 id="5、记录的分裂">5、记录的分裂</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/YQtKbDhrGOU9A1n.png"                      style="zoom:50%;"                 ><h5 id="6、记录的地址">6、记录的地址</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/1jEcXa2bTzi6qmr.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/a4gyFUMLpdczerS.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/9TGXmpjcdRxwIJL.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/BU8ZD4fletVKsOx.png"                      style="zoom:50%;"                 ><h5 id="7、记录的修改">7、记录的修改</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/KqQDiuYlJBPLmHM.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/SUNQdTW3VbPDxlo.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/uOWGeRZLSmHyvp7.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/saUicFHQxVqdzt9.png"                      style="zoom:50%;"                 ><p>4、链表式堆文件和目录式堆文件</p><h2 id="第6章-缓冲区管理">第6章 缓冲区管理</h2><h3 id="1、缓冲区结构、frame-dirty-pin-count等概念的含义">1、缓冲区结构、frame/dirty/pin-count等概念的含义</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/EwMrW3XBnmSgKil.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/XRrThE7dzVoM4ju.png"                      style="zoom:50%;"                 ><h3 id="2、缓冲区置换算法">2、缓冲区置换算法</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/bUuFOtz3BjK1Qoa.png"                      style="zoom:50%;"                 ><h4 id="0、OPT算法">0、OPT算法</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/VY4v1X3HNmBMoqP.png"                      style="zoom:50%;"                 ><h4 id="1、LRU算法">1、LRU算法</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/5xkOZoqJ2a6vfcK.png"                      style="zoom:50%;"                 ><h4 id="2、LRU-K算法">2、LRU-K算法</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/Ysdpm7uVUkyHSIK.png"                      style="zoom:50%;"                 ><h4 id="3、2Q算法">3、2Q算法</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/ELuYHUPBlcJZams.png"                      style="zoom:50%;"                 ><h4 id="4、Second-Chance-FIFO算法">4、Second-Chance FIFO算法</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/PWEJgNeZAXGrdz5.png"                      style="zoom:50%;"                 ><h4 id="5、CLOCK算法">5、CLOCK算法</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/Ax2lqY8WPk5mf1O.png"                      style="zoom:50%;"                 ><h4 id="6、SSD上的置换算法">6、SSD上的置换算法</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/QEcRVfsdXuDyk6x.png"                      style="zoom:50%;"                 ><p>3、缓冲区管理器的实现</p><h2 id="第7章-索引结构">第7章 索引结构</h2><p>1、顺序文件上的索引：密集索引和稀疏索引</p><p>2、非顺序文件上的辅助索引</p><h3 id="3、散列表、动态散列">3、散列表、动态散列</h3><h4 id="散列表概念">散列表概念</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/tI7blFWX4Ko9AOn.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/by46NLYajF5uWOV.png"                      style="zoom:50%;"                 ><h4 id="散列表查找">散列表查找</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/QO6zEP8yfUjt4wD.png"                      style="zoom:50%;"                 ><h4 id="散列表插入">散列表插入</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/5GiYMkVmpoAKZCl.png"                      style="zoom:50%;"                 ><h4 id="散列表删除">散列表删除</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/oLWCZUH7zT6EANj.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/arXRevPu4GShEQN.png"                      style="zoom:50%;"                 ><h4 id="散列表空间利用率">散列表空间利用率</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/XuFISck7oTUK81m.png"                      style="zoom:50%;"                 ><h4 id="动态散列表">动态散列表</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/ydifKq3wHzTpGum.png"                      style="zoom:50%;"                 ><h5 id="可扩展散列表">可扩展散列表</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/AcXWw6N7JhiHDYC.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/LlAzou41aNBQ8yt.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/ZkbExODFsoAQ6LV.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/D6OSCQKxU5HRJnd.png"                      style="zoom:50%;"                 ><h5 id="线性散列表">线性散列表</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/k1F4XdIeYugPZ6y.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/5MDTh9uyYJNElWq.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/4hUDJdneOvbKgSQ.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/HiaepqFWc4ktMLb.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/AY7CNVGgKIfMqUn.png"                      style="zoom:50%;"                 ><h3 id="4、B-Tree">4、B+ Tree</h3><h4 id="概念与性质">概念与性质</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/2PzIqlDN9BprGy4.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/boUITw2qurVpZGN.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/XG3gVcn6FjIZJYH.png"                      style="zoom:50%;"                 ><h4 id="查找、插入与删除">查找、插入与删除</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/VNLHjvpFPThwkyK.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/KCQ1isov7Ack98z.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/ulrBH6imzTCdxNq.png"                      style="zoom:50%;"                 ><h4 id="效率">效率</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/y6g7TDAxsFIKqnd.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/iktL6qIaMrheWyp.png"                      style="zoom:50%;"                 ><h2 id="第8章-查询优化">第8章 查询优化</h2><p>1、查询处理器的工作过程</p><p>2、关系代数与SQL之间的关系</p><h3 id="3、中间结果大小估计">3、中间结果大小估计</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/xPXtoCHIWwS2u9T.png"                      style="zoom:50%;"                 ><h4 id="×运算">×运算</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/mJbWQIyZGtlcXzk.png"                      style="zoom:50%;"                 ><h4 id="σ运算">σ运算</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/DI7mEoyp291nsvk.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/cMAprmKUDbq7WCh.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/RexGPnFSphtmOT1.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/aAVxRrWwJDgb6lB.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/snechVxpGPCuH3B.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/uFr6LSkvIEQoCp3.png"                      style="zoom:50%;"                 ><h4 id="⋈运算">⋈运算</h4><h5 id="对T-W-的估计">对T(W)的估计</h5><h6 id="没有公共属性">没有公共属性</h6><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/By1GATiYSlqWwdm.png"                      style="zoom:50%;"                 ><h6 id="有公共属性">有公共属性</h6><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/FjyI6WUXfhewsSt.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/ZrwxC5mvlfgcHL8.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/9dLvHmD72OEBpY6.png"                      style="zoom:50%;"                 ><h5 id="对S-W-的估计">对S(W)的估计</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/cJAPjgMri4mRfIV.png"                      style="zoom:50%;"                 ><h5 id="对V-W-的估计">对V(W,*)的估计</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/lYW9mOG7oXgI5My.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/Db5wgSh6acF8TIj.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/mVDsBA2iqcEgzPU.png"                      style="zoom:50%;"                 ><p>4、I/O代价的影响因素</p><h2 id="第9章-连接算法">第9章 连接算法</h2><p>重点：连接算法的I/O代价估计与内存开销</p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/kJWKBHAPxfewy1S.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/4OGvyTtRluPx9jq.png"                      style="zoom:50%;"                 ><h3 id="嵌套循环连接">嵌套循环连接</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/Agzpeu3nkj7rqoL.png"                      style="zoom:50%;"                 ><h4 id="非连续存放">非连续存放</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/PLcBTnpQhz3yoqa.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/UGdBZigfSF1EaHN.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/ZnwXJ7UkzTHlIt5.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/pOiaxrFAJC2WhK4.png"                      style="zoom:50%;"                 ><h4 id="连续存放">连续存放</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/Qt3woMhT6jymAKs.png"                      style="zoom:50%;"                 ><h3 id="归并连接">归并连接</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/TjEsDirwgu2dp7b.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/PWRSOjy8ZduoLNg.png"                      style="zoom:50%;"                 ><h4 id="连续存放、记录有序">连续存放、记录有序</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/fDiAmUC8XoaBuEG.png"                      style="zoom:50%;"                 ><h4 id="连续存放、记录无序">连续存放、记录无序</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/NhuRCrvdkE4l68n.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/h8D7tqKU5FXfnLv.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/NSHIOGeVbCATLuM.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/u1n6ITEhvN2A7iC.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/LCYNjIs4wQDifUW.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/yKn2WwiJgYhvtcx.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/fnlJqTcGQieKz6a.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/hTB1juJbozHMSsK.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/nLYMjVyigIakKU6.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/jPgd3fw8qxySIR9.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/vLM1a2ZcQq3XjK9.png"                      style="zoom: 50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/FMbjYDigBAEC7pJ.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/ZatmsXjbUnMYxBO.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/3DQcbmv2VaIMAqr.png"                      style="zoom:50%;"                 ><h3 id="索引连接">索引连接</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/dpEQuFMgzXvR49h.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/1PyRHlDdUfS9mtF.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/ZzOL73imsk2yV6d.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/2ntxwAijo48UBXO.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/is4oHEFSVMlLIdu.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/jlmt1c3LJUER6GY.png"                      style="zoom:50%;"                 ><h3 id="散列连接">散列连接</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/yBIsLKn2Yom1TXj.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/Ijt1Ee5sOHiFQMJ.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/lJRsQu1kWiDvNYG.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/wFDs6m4Cl25BtXp.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/RFBr6UnL8Wc3aPu.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/aA529htcwsCDvrV.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/3Y6FvkeURzZE5Pu.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/13/JPIt7VqfxHEZWOl.png"                      style="zoom:50%;"                 ><h2 id="第10章-故障与恢复">第10章 故障与恢复</h2><p>1、数据库的一致性概念</p><p>2、事务的基本概念、ACID和原子操作</p><h3 id="3、WAL的概念">3、WAL的概念</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/cegrINLiJQO5thC.png"                      style="zoom:50%;"                 ><h3 id="4、Undo日志、Redo日志、Undo-Redo日志">4、Undo日志、Redo日志、Undo/Redo日志</h3><h4 id="Undo日志">Undo日志</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/xbZqeoPmp2O1Ti8.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/pMlaH4IvyVhsr73.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="C:/Users/23876/AppData/Roaming/Typora/typora-user-images/image-20240114145545566.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/2e7IyNSE5PiXOHY.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/e8gkrPAyDqFWE3V.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/1VJvGg2k4zsiNO6.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/nMTufHGxK3UzVZI.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/4ylSXC7sM5WE1Nf.png"                      style="zoom:50%;"                 ><h4 id="Redo日志">Redo日志</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/LUIDVH6usxmpero.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/jGT8Hc6rDdgfW1t.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/fH1MSRZDbzWVApL.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/YwrlAa6xkNojC9V.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/vUWm9xTk2QE6Jdz.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/52c8F4sMNCuUvlS.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/45eBQprimZVSXwa.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/GWwZYDieLzmUTFu.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/J6Ebi98tWlA1TMU.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/kRur2UavYfncQWX.png"                      style="zoom:50%;"                 ><h4 id="Undo-Redo日志">Undo/Redo日志</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/fA6DvX8Tr4H1Qdi.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/dXhsBjrNt1mcOoq.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/hTkpg9DZ6YnPsd3.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/hnlPrAX6MGIWade.png"                      style="zoom:50%;"                 ><p>5、Checkpoint</p><h2 id="第11章-并发控制">第11章 并发控制</h2><h3 id="1、并发操作可能带来什么问题？">1、并发操作可能带来什么问题？</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/N9qZFDb3T26P1mp.png"                      style="zoom:50%;"                 ><h4 id="丢失更新问题">丢失更新问题</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/aNikDPyIMhnEv9r.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/z9Ge5IFnqiNSx3p.png"                      style="zoom:50%;"                 ><h4 id="脏读问题">脏读问题</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/ltT6uB5HbhIUsgQ.png"                      style="zoom:50%;"                 ><h4 id="不一致分析问题">不一致分析问题</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/etj9X8RcvdGDuB6.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/tMeQbmrZo1kRB3A.png"                      style="zoom:50%;"                 ><p>2、可串性的概念</p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/mb42BrE5LVkeDZi.png"                      style="zoom:50%;"                 ><h3 id="3、冲突可串性及其判定方法">3、冲突可串性及其判定方法</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/kF5LiYmPNc6dWAg.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/xjMTPrH5SNncGA3.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/wm6jHa9Oe7f5dnG.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/gZ3nIQkiJx4Wsao.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/fyZw34As5zNm6j1.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/eZhwbcMDU5t3vPL.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/YPXEDoIW7jd8SMz.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/uFdD7eOcRTjB4KU.png"                      style="zoom:50%;"                 ><h3 id="4、锁的相关概念">4、锁的相关概念</h3><h4 id="X锁">X锁</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/mtCyW6aoeLiqzUl.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/24RF3iJMbLxhu15.png"                      style="zoom:50%;"                 ><h4 id="S锁">S锁</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/9SB5woHaqmXZIys.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/kbFEoQpxTSrIvdA.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/8L9m4GpjlsY5MSk.png"                      style="zoom:50%;"                 ><h4 id="Update锁">Update锁</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/YbmWQU4XpEy98xC.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/daHlFQ9YROgwjKZ.png"                      style="zoom:50%;"                 ><p>5、2PL的含义？如何使用2PL保证并发事务的可串行性？</p><h3 id="6、事务的隔离级别">6、事务的隔离级别</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/5ZTVeKRqfsCh8uO.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/shIfiQ2c5AgJHkE.png"                      style="zoom:50%;"                 ><h4 id="未提交读（脏读）">未提交读（脏读）</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/dfbJconkjGsySa9.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/Ve5ZkfW1hSspXmn.png"                      style="zoom:50%;"                 ><h4 id="提交读">提交读</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/Wt5RwhvYqoyc1kx.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/hMxYrEIA4zWO2mQ.png"                      style="zoom:50%;"                 ><h4 id="可重复读">可重复读</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/vkHGhZgouUqltTb.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/zLB5qjNWX8PQxcn.png"                      style="zoom:50%;"                 ><h4 id="可串行读">可串行读</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/vzdqWoltcmKyU67.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/7UPTSkgc4CMRHwF.png"                      style="zoom:50%;"                 ><h3 id="7、死锁">7、死锁</h3><h4 id="死锁出现的条件">死锁出现的条件</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/YfzLt8osAeJKhiX.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/wZEfQFMUT1q2J6G.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/Tg2jMXGhNwpqSQO.png"                      style="zoom:50%;"                 ><h4 id="死锁的两种处理策略">死锁的两种处理策略</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/xnwtzZqT6rGBk7s.png"                      style="zoom:50%;"                 ><h5 id="死锁检测">死锁检测</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/WMtURpIgeodSuqm.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/LW7Ryr3sUZ29Cgb.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/IsoxyNnTMgKiLwO.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/J2RNv3pIsub9nHV.png"                      style="zoom:50%;"                 ><h5 id="死锁预防">死锁预防</h5><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/ZlegTb81WCuB6Pn.png"                      style="zoom:50%;"                 ><h6 id="方法1：Priority-Order">方法1：Priority Order</h6><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/EDFVavX4Ce58qAS.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/4dmIiXpy7xwrjDb.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/X5M8p1BRyjighfn.png"                      style="zoom:50%;"                 ><h6 id="方法2：Timestamp">方法2：Timestamp</h6><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/ZUdbvxzwmpGlCV2.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/ChQeqt2iSwEuTzI.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/qEfNdHXtlFIUcgs.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/CjwZDTivLtPfJsX.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/KwTMCXOUiPkVfvj.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/RSmjvwUZIQYAd8f.png"                      style="zoom:50%;"                 ><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/14/XPCYcMaL6JFUu4h.png"                      style="zoom:50%;"                 ><p>8、乐观并发控制技术</p><h2 id="第12章-NoSQL数据库">第12章 NoSQL数据库</h2><p>1、NoSQL数据库的特点</p><p>2、NoSQL产生的原因</p><p>3、NoSQL与RDBMS的对比</p><p>4、NoSQL数据库主要的4种类型</p><p>5、CAP和BASE理论</p><p>6、LSM-tree</p>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MapReduce 配置与操作</title>
      <link href="/2024/01/11/MapReduce%E9%85%8D%E7%BD%AE%E4%B8%8E%E6%93%8D%E4%BD%9C/"/>
      <url>/2024/01/11/MapReduce%E9%85%8D%E7%BD%AE%E4%B8%8E%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h3 id="一、通过eclipse连接hadoop">一、通过eclipse连接hadoop</h3><h4 id="1-主要步骤">1. 主要步骤</h4><ul><li><p>安装eclipse</p></li><li><p>安装Hadoop-Eclipse-Plugin</p></li><li><p>配置Hadoop-Eclipse-Plugin</p></li></ul><p>参考资料已给出此部分详细步骤，因此此处不再展开，仅给出实现效果如下：</p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2023/11/17/5e8bfMxDjoOsPVL.png"                      style="zoom: 67%;"                 ><h4 id="2-参考资料">2. 参考资料</h4><ul><li><a class="link"   href="https://blog.csdn.net/u010185220/article/details/79095179" >windows10上使用Eclipse配置Hadoop开发环境详细步骤+WordCount示例 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul><h4 id="3-遇到的问题">3. 遇到的问题</h4><ul><li><h5 id="新添加的插件在Eclipse中不显示">新添加的插件在Eclipse中不显示</h5><ul><li><p>解决方法</p><p>在 <code>eclipse/configuration</code> 目录下的 <code>config.ini</code> 文件中加入一行 : <code>osgi.checkConfiguration=true</code>，这样它就会寻找并安装插件。</p></li><li><p>参考资料</p><p><a class="link"   href="https://blog.csdn.net/qq_38789941/article/details/86244990" >Eclipse 安装插件后不显示的解决办法 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p></li></ul></li></ul><h3 id="二、WordCount示例">二、WordCount示例</h3><h4 id="1-主要步骤-2">1. 主要步骤</h4><p>参考资料已给出此部分详细步骤，因此此处仅列举出主要步骤。</p><ul><li><p>新建项目</p></li><li><p>在项目的src目录下创建<code>WordCount.java</code>类，内容如下：</p><div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Package;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.StringTokenizer;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.Path;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IntWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Job;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Reducer;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.input.FileInputFormat;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.util.GenericOptionsParser;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WordCount</span> &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">TokenizerMapper</span> <span class="keyword">extends</span> <span class="title class_">Mapper</span>&lt;Object, Text, Text, IntWritable&gt; &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">IntWritable</span> <span class="variable">one</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IntWritable</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">private</span> <span class="type">Text</span> <span class="variable">word</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Text</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">map</span><span class="params">(Object key, Text value, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException &#123;</span><br><span class="line">            <span class="type">StringTokenizer</span> <span class="variable">itr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringTokenizer</span>(value.toString());</span><br><span class="line">            <span class="keyword">while</span> (itr.hasMoreTokens()) &#123;</span><br><span class="line">                word.set(itr.nextToken());</span><br><span class="line">                context.write(word, one);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">IntSumReducer</span> <span class="keyword">extends</span> <span class="title class_">Reducer</span>&lt;Text, IntWritable, Text, IntWritable&gt; &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">IntWritable</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IntWritable</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reduce</span><span class="params">(Text key, Iterable&lt;IntWritable&gt; values, Context context)</span></span><br><span class="line">                <span class="keyword">throws</span> IOException, InterruptedException &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (IntWritable val : values) &#123;</span><br><span class="line">                sum += val.get();</span><br><span class="line">            &#125;</span><br><span class="line">            result.set(sum);</span><br><span class="line">            context.write(key, result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Configuration</span> <span class="variable">conf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>();</span><br><span class="line">        String[] otherArgs = <span class="keyword">new</span> <span class="title class_">GenericOptionsParser</span>(conf, args).getRemainingArgs();</span><br><span class="line">        <span class="keyword">if</span> (otherArgs.length != <span class="number">2</span>) &#123;</span><br><span class="line">            System.err.println(<span class="string">&quot;Usage: wordcount &lt;in&gt; &lt;out&gt;&quot;</span>);</span><br><span class="line">            System.exit(<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@SuppressWarnings(&quot;deprecation&quot;)</span></span><br><span class="line"><span class="type">Job</span> <span class="variable">job</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Job</span>(conf, <span class="string">&quot;word count&quot;</span>);</span><br><span class="line">        job.setJarByClass(WordCount.class);</span><br><span class="line">        job.setMapperClass(TokenizerMapper.class);</span><br><span class="line">        job.setCombinerClass(IntSumReducer.class);</span><br><span class="line">        job.setReducerClass(IntSumReducer.class);</span><br><span class="line">        job.setOutputKeyClass(Text.class);</span><br><span class="line">        job.setOutputValueClass(IntWritable.class);</span><br><span class="line">        FileInputFormat.addInputPath(job, <span class="keyword">new</span> <span class="title class_">Path</span>(otherArgs[<span class="number">0</span>]));</span><br><span class="line">        FileOutputFormat.setOutputPath(job, <span class="keyword">new</span> <span class="title class_">Path</span>(otherArgs[<span class="number">1</span>]));</span><br><span class="line">        System.exit(job.waitForCompletion(<span class="literal">true</span>) ? <span class="number">0</span> : <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>在项目的src目录下创建<code>log4j.properties</code>文件，内容如下：</p><div class="highlight-container" data-rel="Properties"><figure class="iseeu highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Configure logging for testing:optionally with log file </span></span><br><span class="line"><span class="comment">#log4j.rootLogger=debug,appender </span></span><br><span class="line"><span class="attr">log4j.rootLogger</span>=<span class="string">info,appender </span></span><br><span class="line"><span class="comment">#log4j.rootLogger=error,appender </span></span><br><span class="line"><span class="comment">#\u8F93\u51FA\u5230\u63A7\u5236\u53F0 </span></span><br><span class="line"><span class="attr">log4j.appender.appender</span>=<span class="string">org.apache.log4j.ConsoleAppender </span></span><br><span class="line"><span class="comment">#\u6837\u5F0F\u4E3ATTCCLayout </span></span><br><span class="line"><span class="attr">log4j.appender.appender.layout</span>=<span class="string">org.apache.log4j.TTCCLayout</span></span><br></pre></td></tr></table></figure></div></li><li><p>配置运行参数</p></li><li><p>运行</p></li></ul><h4 id="2-运行结果">2. 运行结果</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2023/11/17/o6ERhliMpC85qPm.png"                      alt=""                ></p><p>其中，<code>word.txt</code> 文件内容如下：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line">a</span><br><span class="line">a</span><br><span class="line"></span><br><span class="line">b</span><br><span class="line">b</span><br><span class="line">b</span><br><span class="line"></span><br><span class="line">c</span><br><span class="line">c</span><br><span class="line">c</span><br><span class="line"></span><br><span class="line">d</span><br><span class="line">e</span><br><span class="line">f</span><br><span class="line"></span><br><span class="line">hello hadoop !</span><br><span class="line">hello world !</span><br></pre></td></tr></table></figure></div><p>程序输出 <code>hdfs://192.168.242.129:9000/hadoop-user/output.txt/part-r-00000</code> 文件内容如下：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">!2</span><br><span class="line">a3</span><br><span class="line">b3</span><br><span class="line">c3</span><br><span class="line">d1</span><br><span class="line">e1</span><br><span class="line">f1</span><br><span class="line">hadoop1</span><br><span class="line">hello2</span><br><span class="line">world1</span><br></pre></td></tr></table></figure></div><p>词频统计结果无误。</p><h4 id="3-参考资料">3. 参考资料</h4><ul><li><a class="link"   href="https://cwiki.apache.org/confluence/display/HADOOP2/WordCount" >WordCount Example <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li><li><a class="link"   href="https://blog.csdn.net/u010185220/article/details/79095179" >windows10上使用Eclipse配置Hadoop开发环境详细步骤+WordCount示例 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul><h4 id="4-遇到的问题">4. 遇到的问题</h4><ul><li><h5 id="环境变量问题">环境变量问题</h5><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.RuntimeException: java.io.FileNotFoundException: java.io.FileNotFoundException: HADOOP_HOME and hadoop.home.dir are unset.</span><br></pre></td></tr></table></figure></div><ul><li><p>问题分析</p><p>从错误信息中可以看到，Hadoop在执行<code>Shell.getWinUtilsPath</code>的时候抛出了异常。这是因为Hadoop在进行某些本地文件系统操作时，依赖于一些环境变量，其中包括<code>HADOOP_HOME</code>。这两个变量都没有被正确设置，导致了<code>FileNotFoundException</code>。</p></li><li><p>解决方法</p><p>在项目运行配置中指定<code>HADOOP_HOME</code>环境变量及其值：<img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2023/11/17/3dmlWo9A8LMwkSU.png"                      alt=""                ></p></li><li><p>参考资料</p><ul><li><a class="link"   href="https://cwiki.apache.org/confluence/display/HADOOP2/WindowsProblems" >Problems running Hadoop on Windows <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul></li></ul></li><li><h5 id="权限错误问题">权限错误问题</h5><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Thread-5] WARN org.apache.hadoop.mapred.LocalJobRunner - job_local2147375942_0001</span><br><span class="line">org.apache.hadoop.security.AccessControlException: Permission denied: user=23876, access=WRITE, inode=&quot;/hadoop-user&quot;:root:supergroup:drwxr-xr-x</span><br><span class="line">[main] INFO org.apache.hadoop.mapreduce.Job - Job job_local2147375942_0001 failed with state FAILED due to: NA</span><br></pre></td></tr></table></figure></div><ul><li><p>问题分析</p><p>这个错误表明在本地运行作业时，用户尝试写入目录<code>/hadoop-user</code>时遇到权限问题，并导致作业以失败结束。</p></li><li><p>解决方法</p><p>在master节点中执行以下代码，以赋予当前用户对目标HDFS文件夹的写权限：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod -R 777 /hadoop-user/</span><br></pre></td></tr></table></figure></div></li><li><p>参考资料</p><ul><li><a class="link"   href="https://hadoop.apache.org/docs/r1.0.4/cn/hdfs_permissions_guide.html#%E8%B6%85%E7%BA%A7%E7%94%A8%E6%88%B7" >HDFS权限管理用户指南 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li><li><a class="link"   href="https://www.cnblogs.com/yinzhengjie2020/p/13737254.html" >HDFS权限管理篇-博客园 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
            <tag> MapReduce </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hadoop 环境配置</title>
      <link href="/2024/01/10/Hadoop%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
      <url>/2024/01/10/Hadoop%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="主要步骤">主要步骤</h2><h3 id="一、准备虚拟机">一、准备虚拟机</h3><p>首先要创建五台一模一样的Ubuntu虚拟机，可在VMware中先安装一个Ubuntu虚拟机，然后克隆出另外四个虚拟机。</p><h3 id="二、搭建集群">二、搭建集群</h3><h4 id="1-修改hostname">1.修改hostname</h4><p>现在有五台虚拟机，改hostname：将其中一台改作master，其余分别改作slave1、slave2、slave3、slave4。让其处于同一局域网中。</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/hostname</span><br></pre></td></tr></table></figure></div><p>修改后保存。</p><h4 id="2-记录五台虚拟机的IP地址">2.记录五台虚拟机的IP地址</h4><p>在终端输入<code>ipconfig</code>，可以得到本节点IP。最终可以得到：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">192.168.242.129master</span><br><span class="line">192.168.242.130slave1</span><br><span class="line">192.168.242.131slave2</span><br><span class="line">192.168.242.132slave3</span><br><span class="line">192.168.242.133slave4</span><br></pre></td></tr></table></figure></div><p>接下来修改节点IP映射，在每台虚拟机的<code>hosts</code>文件末尾添加上述<code>IP-主机名</code>映射（重启后生效）：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/hosts  </span><br></pre></td></tr></table></figure></div><h4 id="3-ping通五台虚拟机">3.ping通五台虚拟机</h4><p>利用刚刚记录下来的IP地址，五台虚拟机互相ping通：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping IP地址/主机名</span><br></pre></td></tr></table></figure></div><h4 id="4-配置SSH免密登录">4.配置SSH免密登录</h4><p>首先安装SSH：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openssh-server  #安装服务，一路回车                     </span><br><span class="line">sudo /etc/init.d/ssh restart  #启动服务                                      </span><br><span class="line">sudo ufw disable   #关闭防火墙     </span><br></pre></td></tr></table></figure></div><p>关闭完防火墙，接下来查看是否开通SSH服务：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -e | grep ssh</span><br></pre></td></tr></table></figure></div><p>只要出现了以下进程就说明成功了：</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2023/10/18/arKLqu23wdTIgbD.png"                      alt=""                ></p><p>接下来在master节点生成SSH公钥，公钥储存在 <code>/root/.ssh</code> 中</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo cd /root/.ssh  </span><br><span class="line">rm ./id_rsa*            # 删除之前生成的公匙（如果有）                  </span><br><span class="line">ssh-keygen -t rsa       # 一直按回车就可以     </span><br></pre></td></tr></table></figure></div><p>让master 节点可以无密码 SSH 本机，在 master 节点上执行以下代码：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ./id_rsa.pub &gt;&gt; ./authorized_keys</span><br></pre></td></tr></table></figure></div><p>完成后可执行<code>ssh master</code>验证一下（需要输入 <code>yes</code>，成功后执行 <code>exit</code> 返回原来的终端）</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh master</span><br></pre></td></tr></table></figure></div><p>接着在 master 节点将上述公匙传输到 slave1 节点，过程中需要输入 slave1 节点的密码，传输100%以后就是传过去了：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp ./.ssh/id_rsa.pub xpk@slave1:/home/xpk</span><br></pre></td></tr></table></figure></div><p>接着在 slave1 节点上，把 master 节点的公钥加入授权：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/.ssh        # 如果不存在该文件夹需先创建，若已存在则忽略        </span><br><span class="line">cat ~/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys                                   </span><br><span class="line">rm ~/id_rsa.pub    # 用完就可以删掉了</span><br></pre></td></tr></table></figure></div><p>在其余 slave 节点重复以上步骤，然后就可以免密码SSH所有 slave 节点了：</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2023/10/18/2NYJbqB8ytKh3zZ.png"                      alt=""                ></p><p>最后在 master 节点修改SSH文件权限（否则之后SSH免密登录可能失效）：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 700 /root/.ssh/#修改 .ssh/ 文件夹权限为700</span><br><span class="line">chmod 600 /root/.ssh/authorized_keys #修改 authorized_keys 文件权限为700</span><br></pre></td></tr></table></figure></div><h4 id="5-安装配置JDK环境变量">5.安装配置JDK环境变量</h4><h5 id="下载JDK">下载JDK</h5><p>官网： <a class="link"   href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html" >https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p>我下载的是 JDK1.8 ，压缩文件名为<code>jdk-8u391-linux-x64.tar.gz</code>。</p><h5 id="解压tar包">解压tar包</h5><p>把安装包放到 <code>/usr/local/java/</code> 目录下面（没有java目录的话自行创建），然后解压安装包：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">创建目录</span></span><br><span class="line">mkdir -p /usr/local/java/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">解压</span></span><br><span class="line">tar -zxvf  安装包名称</span><br></pre></td></tr></table></figure></div><h5 id="配置JDK环境变量">配置JDK环境变量</h5><p>修改 environment 文件：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">修改文件</span></span><br><span class="line">sudo gedit /etc/environment</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">文件尾部添加如下配置</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">java</span></span><br><span class="line">export JAVA_HOME=/usr/local/java/jdk1.8.0_391</span><br><span class="line">export JRE_HOME=/usr/local/java/jdk1.8.0_391/jre</span><br><span class="line">export CLASSPATH=$CLASSPATH:$JAVA_HOME/lib:$JAVA_HOME/jre/lib</span><br></pre></td></tr></table></figure></div><p>修改 profile 文件：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">修改文件</span></span><br><span class="line">sudo gedit /etc/profile </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">文件尾部添加如下配置</span></span><br><span class="line">export JAVA_HOME=/usr/local/java/jdk1.8.0_391</span><br><span class="line">export JRE_HOME=/usr/local/java/jdk1.8.0_391/jre</span><br><span class="line">export CLASSPATH=$CLASSPATH:$JAVA_HOME/lib:$JAVA_HOME/jre/lib</span><br><span class="line">export PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH:$HOME/bin</span><br></pre></td></tr></table></figure></div><p>配置立即生效：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">立即生效</span></span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure></div><p>检查Java命令：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看java版本</span></span><br><span class="line">java -version</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">显示如下表示成功</span></span><br><span class="line">java version &quot;1.8.0_391&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_391-b13)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.391-b13, mixed mode)</span><br></pre></td></tr></table></figure></div><h4 id="6-安装和配置Hadoop">6.安装和配置Hadoop</h4><h5 id="下载Hadoop安装包">下载Hadoop安装包</h5><p>Hadoop官网：<a class="link"   href="http://hadoop.apache.org/" >http://hadoop.apache.org/ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p>我下载的是 hadoop3 ，压缩文件名为<code>hadoop-3.3.6.tar.gz</code>。</p><h5 id="解压Hadoop安装包（只在master做）">解压Hadoop安装包（只在master做）</h5><p>把 Hadoop 压缩包放置到<code>/opt/hadoop</code>目录内，然后在 master 主机上执行以下代码：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/hadoop</span><br></pre></td></tr></table></figure></div><p>进入<code>/opt/hadoop</code>目录后，执行解压缩命令：</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf hadoop-3.3.6.tar.gz</span><br></pre></td></tr></table></figure></div><h5 id="配置env文件（只在master做）">配置env文件（只在master做）</h5><p>执行命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /opt/hadoop/hadoop/etc/hadoop/hadoop-env.sh</span><br></pre></td></tr></table></figure></div><p>找到<code>export JAVA_HOME</code>这行，修改为：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/local/java/jdk1.8.0_391/</span><br></pre></td></tr></table></figure></div><h5 id="配置核心组件文件（只在master做）">配置核心组件文件（只在master做）</h5><p>Hadoop 的核心组件文件是<code>core-site.xml</code>，位于<code>/opt/hadoop/hadoop/etc/hadoop</code>子目录下，将下面的配置代码放在文件的<code>&lt;configuration&gt;</code>和<code>&lt;/configuration&gt;</code>之间。</p><p>执行编辑<code>core-site.xml</code>文件的命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /opt/hadoop/hadoop/etc/hadoop/core-site.xml</span><br></pre></td></tr></table></figure></div><p>需要在<code>&lt;configuration&gt;</code>和<code>&lt;/configuration&gt;</code>之间加入的代码：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">&lt;value&gt;hdfs://master:9000&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">&lt;value&gt;/opt/hadoop/hadoopdata&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></div><p>编辑完成后，退出并保存即可。</p><h5 id="配置文件系统（只在master做）">配置文件系统（只在master做）</h5><p>Hadoop 的文件系统配置文件是<code>hdfs-site.xml</code>，位于<code>/opt/hadoop/hadoop/etc/hadoop</code>子目录下，将以下代码放在文件的<code>&lt;configuration&gt;</code>和<code>&lt;/configuration&gt;</code>之间。</p><p>执行编辑<code>hdfs-site.xml</code>文件的命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /opt/hadoop/hadoop/etc/hadoop/hdfs-site.xml</span><br></pre></td></tr></table></figure></div><p>需要在<code>&lt;configuration&gt;</code>和<code>&lt;/configuration&gt;</code>之间加入的代码：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">&lt;value&gt;1&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></div><p>编辑完成后，退出保存即可。</p><h5 id="配置yarn-site-xml文件（只在master做）">配置yarn-site.xml文件（只在master做）</h5><p>yarn 的站点配置文件是<code>yarn-site.xml</code>，位于<code>/opt/hadoop/hadoop/etc/hadoop</code>子目录下，将以下代码放在文件的<code>&lt;configuration&gt;</code>和<code>&lt;/configuration&gt;</code>之间。</p><p>执行编辑<code>yarn-site.xml</code>文件的命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /opt/hadoop/hadoop/etc/hadoop/yarn-site.xml</span><br></pre></td></tr></table></figure></div><p>需要在<code>&lt;configuration&gt;</code>和<code>&lt;/configuration&gt;</code>之间加入的代码：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">&lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;</span><br><span class="line">&lt;value&gt;master:18040&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;</span><br><span class="line">&lt;value&gt;master:18030&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;</span><br><span class="line">&lt;value&gt;master:18025&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.resourcemanager.admin.address&lt;/name&gt;</span><br><span class="line">&lt;value&gt;master:18141&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;</span><br><span class="line">&lt;value&gt;master:18088&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></div><h5 id="配置MapReduce计算框架文件（只在master做）">配置MapReduce计算框架文件（只在master做）</h5><p>配置文件是<code>mapred-site.xml</code>，在<code>/opt/hadoop/hadoop/etc/hadoop</code>子目录下，将下面的代码填充到文件的<code>&lt;configuration&gt;</code>和<code>&lt;/configuration&gt;</code>之间。</p><p>执行命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /opt/hadoop/hadoop/etc/hadoop/mapred-site.xml</span><br></pre></td></tr></table></figure></div><p>需要在<code>&lt;configuration&gt;</code>和<code>&lt;/configuration&gt;</code>之间加入的代码：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">&lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></div><p>编辑完毕，保存退出即可。</p><h5 id="配置master的workers文件（只在master做）">配置master的workers文件（只在master做）</h5><p>workers 文件给出了 Hadoop 集群的 slave 节点列表，该文件十分重要，因为启动 Hadoop 的时候，系统总是根据当前workers 文件中的 slave 节点名称列表启动集群，不在列表中的 slave 节点便不会被视为计算节点。</p><p>执行编辑 workers 文件命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /opt/hadoop/hadoop/etc/hadoop/workers</span><br></pre></td></tr></table></figure></div><p>加入以下代码：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">slave1</span><br><span class="line">slave2</span><br><span class="line">slave3</span><br><span class="line">slave4</span><br></pre></td></tr></table></figure></div><p>注意：删除 workers 文件中原来 localhost 那一行。</p><h5 id="复制master上的Hadoop到slave节点（只在master做）">复制master上的Hadoop到slave节点（只在master做）</h5><p>通过复制master节点上的 Hadoop ，能够大大提高系统部署效率。由于我这里有4个 slave 节点，所以复制4次。</p><p>复制命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scp -r /opt/hadoop root@slave1:/opt</span><br><span class="line">scp -r /opt/hadoop root@slave2:/opt</span><br><span class="line">scp -r /opt/hadoop root@slave3:/opt</span><br><span class="line">scp -r /opt/hadoop root@slave4:/opt</span><br></pre></td></tr></table></figure></div><h5 id="配置操作系统环境变量（五个节点都做）">配置操作系统环境变量（五个节点都做）</h5><p>回到用户目录命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt/hadoop</span><br></pre></td></tr></table></figure></div><p>然后编辑<code>.bash_profile</code>文件，命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit ~/.bash_profile</span><br></pre></td></tr></table></figure></div><p>最后把以下代码追加到文件的尾部：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#HADOOP</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_HOME=/opt/hadoop/hadoop</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$HADOOP_HOME</span>/bin:<span class="variable">$HADOOP_HOME</span>/sbin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure></div><p>保存退出后，执行命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure></div><p><code>source ~/.bash_profile</code>命令是使上述配置生效。</p><p>提示：在其余 slave 节点使用上述相同的配置方法，配置全部 slave 节点。</p><h5 id="创建Hadoop数据目录（只在master做）">创建Hadoop数据目录（只在master做）</h5><p>创建数据目录，命令是：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /opt/hadoop/hadoopdata</span><br></pre></td></tr></table></figure></div><h5 id="格式化文件系统（只在master做）">格式化文件系统（只在master做）</h5><p>执行格式化文件系统命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop namenode -format</span><br></pre></td></tr></table></figure></div><h3 id="三、Hadoop集群的启动与关闭">三、Hadoop集群的启动与关闭</h3><h4 id="1-启动和关闭Hadoop集群（只在master做）">1.启动和关闭Hadoop集群（只在master做）</h4><p>首先进入安装主目录，命令是：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt/hadoop/hadoop/sbin</span><br></pre></td></tr></table></figure></div><p>然后启动，命令是：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./start-all.sh</span><br></pre></td></tr></table></figure></div><p>如果要关闭 Hadoop 集群，可以使用命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./stop-all.sh</span><br></pre></td></tr></table></figure></div><h4 id="2-验证Hadoop集群是否启动成功">2.验证Hadoop集群是否启动成功</h4><p>在 master 节点的浏览器中输入<code>localhost:9870/</code>并回车。打开 HDFS 面板查看详细信息：</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/10/PHrsxtvNiIFGmkT.png"                      alt=""                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/10/x4uYlirEd5U2hgy.png"                      alt=""                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s2.loli.net/2024/01/10/zUywuYjHvRTX3sa.png"                      alt=""                ></p><h3 id="参考资料：">参考资料：</h3><p><a class="link"   href="https://blog.csdn.net/weixin_52105111/article/details/123159877" >三台Ubuntu虚拟机搭建 Hadoop集群 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p><a class="link"   href="https://blog.51cto.com/u_12835254/5273118" >Linux：Ubuntu配置jdk环境变量 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p><a class="link"   href="https://blog.csdn.net/weixin_44198965/article/details/89603788?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164601575316780271530136%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164601575316780271530136&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-89603788.pc_search_result_cache&amp;utm_term=hadoop%E5%AE%89%E8%A3%85&amp;spm=1018.2226.3001.4187" >Hadoop安装与配置详细教程 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><h2 id="遇到的-问题-解决方法">遇到的 问题&amp;解决方法</h2><h3 id="一、部分Ubuntu虚拟机无法连接网络">一、部分Ubuntu虚拟机无法连接网络</h3><h4 id="问题：">问题：</h4><p>安装之后可以正常使用，但是隔了一段时间再上就发现有一两台虚拟机连不上网络。</p><h4 id="解决：">解决：</h4><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo service NetworkManager stop</span><br><span class="line">sudo <span class="built_in">rm</span> /var/lib/NetworkManager/NetworkManager.state</span><br><span class="line">sudo service NetworkManager start</span><br></pre></td></tr></table></figure></div><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/NetworkManager/NetworkManager.conf<span class="comment">#把false改成true</span></span><br></pre></td></tr></table></figure></div><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service NetworkManager restart</span><br></pre></td></tr></table></figure></div><h4 id="参考资料：-2">参考资料：</h4><p><a class="link"   href="https://blog.csdn.net/lj695242104/article/details/80922108" >ubuntu 18.04 网络图标不见的问题解决方案 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><h3 id="二、第一次运行Hadoop时，出现以下报错：">二、第一次运行Hadoop时，出现以下报错：</h3><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ERROR: Attempting to operate on hdfs namenode as root</span><br><span class="line">ERROR: but there is no HDFS_NAMENODE_USER defined. </span><br><span class="line">Aborting operation.</span><br><span class="line">Starting datanodes</span><br><span class="line">ERROR: Attempting to operate on hdfs datanode as root</span><br><span class="line">ERROR: but there is no HDFS_DATANODE_USER defined. </span><br><span class="line">Aborting operation.</span><br><span class="line">Starting secondary namenodes</span><br><span class="line">ERROR: Attempting to operate on hdfs secondarynamenode as root</span><br><span class="line">ERROR: but there is no HDFS_SECONDARYNAMENODE_USER defined. </span><br><span class="line">Aborting operation.</span><br></pre></td></tr></table></figure></div><h4 id="解决：-2">解决：</h4><p>在<code>$HADOOP_HOME/etc/hadoop/hadoop-env.sh</code>中添加以下内容：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> HDFS_NAMENODE_USER=root</span><br><span class="line"><span class="built_in">export</span> HDFS_DATANODE_USER=root</span><br><span class="line"><span class="built_in">export</span> HDFS_SECONDARYNAMENODE_USER=root</span><br><span class="line"><span class="built_in">export</span> YARN_RESOURCEMANAGER_USER=root</span><br><span class="line"><span class="built_in">export</span> YARN_NODEMANAGER_USER=root</span><br></pre></td></tr></table></figure></div><h4 id="参考资料：-3">参考资料：</h4><p><a class="link"   href="https://stackoverflow.com/questions/48129029/hdfs-namenode-user-hdfs-datanode-user-hdfs-secondarynamenode-user-not-defined" >HDFS_NAMENODE_USER, HDFS_DATANODE_USER &amp; HDFS_SECONDARYNAMENODE_USER not defined <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><h3 id="三、主节点启动成功，从节点没有启动">三、主节点启动成功，从节点没有启动</h3><h4 id="解决：-3">解决：</h4><p>执行编辑 workers 文件命令：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /opt/hadoop/hadoop/etc/hadoop/workers</span><br></pre></td></tr></table></figure></div><p>加入以下代码：</p><div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">slave1</span><br><span class="line">slave2</span><br><span class="line">slave3</span><br><span class="line">slave4</span><br></pre></td></tr></table></figure></div><h4 id="原因分析：">原因分析：</h4><p>网上教程用的是Hadoop 2 版本，配置 slave 节点列表文件时修改的是<code>slaves</code>文件；而我使用的是 Hadoop 3 版本，Hadoop 3 版本里的配置文件需要修改<code>workers</code>文件，而不是<code>slaves</code>文件。</p><h4 id="参考资料：-4">参考资料：</h4><p><a class="link"   href="https://blog.51cto.com/u_16099172/6391674" >hadoop从节点进程缺失 hadoop从节点没有启动 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
